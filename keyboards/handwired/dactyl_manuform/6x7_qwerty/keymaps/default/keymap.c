#include QMK_KEYBOARD_H

//#undef UNICODE_SELECTED_MODES
//#define UNICODE_SELECTED_MODES UC_LNX, UC_WIN, UC_WINC, UC_MAC

extern keymap_config_t keymap_config;

#define _BASE 0
#define _DUMMY2 3
#define _CAPS_DUMMY 2
#define _NEO_NAV 1
#define _NEO_NUM_AND_ADDITIONAL 4

#define NNAA MO(_NEO_NUM_AND_ADDITIONAL)

/*#define _QWERTY 0

#define _BONE 1
#define _BONE_SHIFT 2
#define _BONE_SYM 3
#define _BONE_NAV 4
#define _BONE_GREEK 5
#define _BONE_MATH 6

#define _ADJUST 7*/

#define KC_BKSL KC_BSLASH

#define KC_ADEN LT(_ADJUST, KC_END)
#define KC_ADPU LT(_ADJUST, KC_PGUP)

enum my_keycodes {
  KC_NCP = SAFE_RANGE,
  KC_NM4,
};

/*void eeconfig_init_user(void) {
    set_unicode_input_mode(UC_LNX);
};*/


bool process_record_user(uint16_t keycode, keyrecord_t *record) {
  switch (keycode) {
    /*case KC_RSFT:
        layer_invert(_NEO_SHIFT);
        update_tri_layer(_NEO_SYM, _NEO_SHIFT, _NEO_GREEK);
        return true;*/
    case KC_CAPS:
        layer_invert(_CAPS_DUMMY);
        update_tri_layer(_NEO_NAV, _CAPS_DUMMY, _DUMMY2);
        return true;
    case KC_RALT:
        layer_invert(_NEO_NAV);
        update_tri_layer(_NEO_NAV, _CAPS_DUMMY, _DUMMY2);
        return true;
    /*case KC_NCP:
        layer_invert(_NEO_SYM);
        update_tri_layer(_NEO_SYM, _NEO_SHIFT, _NEO_GREEK);
        update_tri_layer(_NEO_NAV, _NEO_SYM, _NEO_MATH);
        return false; 
    case KC_NM4:
        layer_invert(_NEO_NAV);
        update_tri_layer(_NEO_NAV, _NEO_SYM, _NEO_MATH);
        return false; */
    /*case KC_EN_UC_WIN:
        if(record->event.pressed)
            SEND_STRING("reg add \"HKCU\\Control Panel\\Input Method\" -v EnableHexNumpad -t REG_SZ -d 1");
        return false;*/
    default:
         return true;
  }
}

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  [_BASE] = LAYOUT_6x7_qwerty(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     KC_ESC  , KC_F1  , KC_F2  , KC_F3  , KC_F4  , KC_F5  , KC_F6  ,                           KC_F7  , KC_F8  , KC_F9  , KC_F10  , KC_F11, KC_F12 , KC_F13 ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
      NNAA   ,KC_1     ,KC_2   ,KC_3    ,KC_4    ,KC_5    , KC_DEL ,                          KC_ESC  , KC_6    ,KC_7    ,KC_8    ,KC_9    ,KC_0    ,KC_BSPC ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     KC_COPY ,KC_TAB  ,KC_Q    ,KC_W    ,KC_E    ,KC_R    ,KC_T    ,                           KC_Y   ,KC_U    ,KC_I    , KC_O   ,KC_P    ,KC_LBRC, KC_RBRC,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     KC_PASTE,KC_CAPS , KC_A   ,KC_S    , KC_D   , KC_F   , KC_G   ,                           KC_H   , KC_J   , KC_K   , KC_L   , KC_SCLN , KC_QUOT, KC_BSLS,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     KC_LGUI ,KC_RSFT ,KC_Z    ,KC_X    ,KC_C    , KC_V   , KC_B   ,                           KC_N   , KC_M   , KC_COMMA,KC_DOT , KC_SLSH, KC_RSFT, KC_LGUI,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                KC_LEFT, KC_UP ,KC_LALT ,KC_SPACE, KC_RALT ,         KC_RALT ,KC_ENTER, KC_LALT, KC_DOWN,KC_RGHT ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  KC_LCTL ,KC_RSFT , KC_CAPS,         KC_CAPS, KC_RSFT, KC_LCTL
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_DUMMY2] = LAYOUT_6x7_qwerty(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______,_______  ,_______ ,_______ ,_______ ,_______ ,                          _______ ,_______,_______,_______,_______,_______,_______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,KC_Q    ,KC_W    ,KC_E    , KC_R   , KC_T   ,                          _______ ,_______, _______ , _______,_______ ,_______ , _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,KC_A    , KC_S   , KC_D   ,KC_F    ,KC_G    ,                          _______ , _______, _______, _______, _______, _______, _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ , _______, KC_Z   , KC_X   , KC_C   , KC_V   , KC_B,                          _______ , _______ ,_______,_______ ,_______ , _______,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,KC_ENTER, _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_CAPS_DUMMY] = LAYOUT_6x7_qwerty(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______,_______  ,_______ ,_______ ,_______ ,_______ ,                          _______ ,_______,_______,_______,_______,_______,_______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,_______,_______ ,_______ ,  _______, _______,                          _______ ,_______, _______ , _______,_______ ,_______ , _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,_______ , _______, _______,_______ ,_______ ,                          _______ , _______, _______, _______, _______, _______, _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ , _______, _______, _______, _______, _______, _______,                          _______ , _______ ,_______,_______ ,_______ , _______,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,_______ , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_NAV] = LAYOUT_6x7_qwerty(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,_______ ,_______ ,_______ ,_______, _______,                          _______ ,_______  ,_______ , _______,_______ , _______,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ , KC_PGUP,KC_BSPC , KC_UP  , KC_DEL , KC_PGDN,                          _______ , _______, _______, _______, _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,KC_HOME ,KC_LEFT , KC_DOWN,KC_RGHT ,KC_END  ,                          _______ , _______, _______,_______ , _______, _______,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ , KC_ESC , KC_TAB , KC_INS, KC_ENT  , KC_UNDO,                          _______ , _______,_______ ,_______ , _______,_______ , _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,KC_SPACE, _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_NUM_AND_ADDITIONAL] = LAYOUT_6x7_qwerty(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,KC_MUTE, KC_VOLD, KC_VOLU ,KC_BRID ,KC_BRIU , _______,                          _______ ,KC_MAIL ,KC_CALC , KC_PSCR,KC_APP ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     KC_F14  ,KC_F15  ,KC_F16  ,KC_F17  ,KC_F18  ,KC_F19  , KC_F20,                          _______ ,KC_NUM, KC_PSLS ,KC_PAST ,KC_PMNS ,XXXXXXX,XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,KC_F21  ,KC_F22  ,KC_F23  ,KC_F24  ,KC_FIND,                           XXXXXXX ,KC_P7,  KC_P8    ,KC_P9   ,KC_PPLS ,XXXXXXX,XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,XXXXXXX ,XXXXXXX ,KC_EXEC ,KC_STOP ,KC_PAUSE,                          XXXXXXX ,KC_P4   ,KC_P5   ,KC_P6   ,KC_PENT ,XXXXXXX,XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                          XXXXXXX   ,KC_P1  ,KC_P2   ,KC_P3   ,KC_PCMM ,XXXXXXX,XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______, KC_P0  , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  )
};
