#include QMK_KEYBOARD_H

#undef UNICODE_SELECTED_MODES
#define UNICODE_SELECTED_MODES UC_LNX, UC_WIN, UC_WINC, UC_MAC

extern keymap_config_t keymap_config;

#define _NEO 0
#define _NEO_SHIFT 1
#define _NEO_SYM 2
#define _NEO_NAV 3
#define _NEO_GREEK 4
#define _NEO_MATH 5

/*#define _QWERTY 0

#define _BONE 1
#define _BONE_SHIFT 2
#define _BONE_SYM 3
#define _BONE_NAV 4
#define _BONE_GREEK 5
#define _BONE_MATH 6

#define _ADJUST 7*/

#define KC_BKSL KC_BSLASH

#define KC_ADEN LT(_ADJUST, KC_END)
#define KC_ADPU LT(_ADJUST, KC_PGUP)

enum my_keycodes {
  KC_NCP = SAFE_RANGE,
  KC_NM4,
};

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
  switch (keycode) {
    case KC_RSFT:
        layer_invert(_NEO_SHIFT);
        update_tri_layer(_NEO_SYM, _NEO_SHIFT, _NEO_GREEK);
        return true;
    case KC_NCP:
        layer_invert(_NEO_SYM);
        update_tri_layer(_NEO_SYM, _NEO_SHIFT, _NEO_GREEK);
        update_tri_layer(_NEO_NAV, _NEO_SYM, _NEO_MATH);
        return false; 
    case KC_NM4:
        layer_invert(_NEO_NAV);
        update_tri_layer(_NEO_NAV, _NEO_SYM, _NEO_MATH);
        return false; 
    /*case KC_EN_UC_WIN:
        if(record->event.pressed)
            SEND_STRING("reg add \"HKCU\\Control Panel\\Input Method\" -v EnableHexNumpad -t REG_SZ -d 1");
        return false;*/
    default:
         return true;
  }
}

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  [_NEO] = LAYOUT_6x7_alexd97(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     KC_ESC  , KC_F1  , KC_F2  , KC_F3  , KC_F4  , KC_F5  , KC_F6  ,                           KC_F7  , KC_F8  , KC_F9  , KC_F10  , KC_F11, KC_F12 , KC_F13 ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,KC_1     ,KC_2   ,KC_3    ,KC_4    ,KC_5    , XXXXXXX,                          XXXXXXX, KC_6    ,KC_7    ,KC_8    ,KC_9    ,KC_0    ,KC_BSPC ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,KC_TAB  ,KC_X    ,KC_V    ,KC_L    ,KC_C    ,KC_W    ,                           KC_K   ,KC_H    ,KC_G    , KC_F   ,KC_Q    ,UC(L'ß'), XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,KC_NCP , KC_U   ,KC_I    , KC_A   , KC_E   , KC_O   ,                           KC_S   , KC_N   , KC_R   , KC_T   , KC_D   , KC_Y   , KC_NCP,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,KC_RSFT ,UC(L'ü'),UC(L'ö'),UC(L'ä'), KC_P   , KC_Z   ,                           KC_B   , KC_M   , KC_DOT ,KC_COMMA, KC_J   , KC_RSFT, XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                XXXXXXX, XXXXXXX ,KC_LALT ,KC_SPACE, KC_NM4 ,         KC_NM4 ,KC_ENTER, KC_LALT, XXXXXXX,XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  KC_LGUI ,KC_RSFT , KC_LCAP,        KC_LCAP , KC_RSFT, KC_LGUI
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_SHIFT] = LAYOUT_6x7_alexd97(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,UC(L'°'),UC(L'§'),UC(L'ℓ'),UC(L'»'),UC(L'«'),_______ ,                          _______ ,UC(L'$'),UC(L'€'),UC(L'„'),UC(L'“'),UC(L'”'),UC(L'—'),
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,_______, _______ ,_______ ,_______ ,_______ ,                          _______ , _______,_______ ,_______ ,_______ ,UC(L'ẞ'), _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ , _______,_______ ,_______ ,_______ ,_______ ,_______ ,                           _______, _______, _______,_______ ,_______ , _______,_______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,UC(L'Ü'),UC(L'Ö'),UC(L'Ä'), _______, _______,                          _______ ,_______ ,UC(L'–'),UC(L'•'),_______ ,_______ , _______,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,_______ , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_SYM] = LAYOUT_6x7_alexd97(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    UC(L'↻'),UC(L'¹'),UC(L'²'),UC(L'³'),UC(L'›'),UC(L'‹'),_______ ,                          _______ ,UC(L'¢'),UC(L'¥'),UC(L'‚'),UC(L'‘'),UC(L'’'),UC(L'˚'),
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,UC(L'…'),KC_UNDS ,KC_LBRC ,KC_RBRC ,KC_CIRC,                          KC_EXLM ,KC_LT   ,KC_GT   , KC_EQL ,KC_AMPR ,XXXXXXX , XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,KC_BSLS , KC_SLSH, KC_LCBR,KC_RCBR ,KC_ASTR ,                          KC_QUES, KC_LPRN, KC_RPRN, KC_MINS, KC_COLN, KC_AT  , _______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ , _______, KC_HASH, KC_DLR , KC_PIPE, KC_TILD, KC_GRV ,                          KC_PLUS, KC_PERC,KC_DQUO , KC_QUOT,KC_SCLN  , _______,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,_______ , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_NAV] = LAYOUT_6x7_alexd97(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
   //  UC(L' ̇'),UC(L'ª'),UC(L'º'),UC(L'№'),XXXXXXX ,UC(L'·'), _______,                          _______ ,UC(L'£'),UC(L'¤'),KC_TAB  ,KC_SLSH ,KC_ASTR ,UC(L'-'),
     XXXXXXX ,UC(L'ª'),UC(L'º'),UC(L'№'),XXXXXXX ,UC(L'·'), _______,                          _______ ,UC(L'£'),UC(L'¤'),KC_TAB  ,KC_SLSH ,KC_ASTR ,UC(L'-'),
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ , KC_PGUP,KC_BSPC , KC_UP  , KC_DEL , KC_PGDN,                          UC(L'¡'), KC_P7  , KC_P8  , KC_P9  , KC_PPLS, KC_PMNS,XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,KC_HOME ,KC_LEFT , KC_DOWN,KC_RGHT ,KC_END  ,                          UC(L'¿'), KC_P4  , KC_P5  ,KC_P6   , KC_COMM, KC_PDOT,XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ , KC_ESC , KC_TAB , KC_INS, KC_ENT  , KC_UNDO,                          KC_COLN , KC_P1  , KC_P2  ,KC_P3   , KC_SCLN,XXXXXXX , XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,_______ , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_NAV] = LAYOUT_6x7_alexd97(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,UC(L'₁'),UC(L'₂'),UC(L'₃'),UC(L'♀'),UC(L'♂'), _______,                          _______ ,UC(L'⚥'),UC(L'ϰ'),UC(L'⟨'),UC(L'⟩'),UC(L'₀'),UC(L'‑'),
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,UC(L'ξ'),XXXXXXX ,UC(L'λ'),UC(L'χ'),UC(L'ω'),                          UC(L'κ'),UC(L'ψ'),UC(L'γ'),UC(L'φ'),UC(L'ϕ'),UC(L'ς'),XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,XXXXXXX ,UC(L'ι'),UC(L'α'),UC(L'ε'),UC(L'ο'),                          UC(L'σ'),UC(L'ν'),UC(L'ρ'),UC(L'τ'),UC(L'δ'),UC(L'υ'),XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,XXXXXXX ,UC(L'ϵ'),UC(L'η'),UC(L'π'),UC(L'ζ'),                          UC(L'β'),UC(L'μ'),UC(L'ϱ'),UC(L'ϑ'),UC(L'θ'),XXXXXXX , XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,_______ , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  ),
  [_NEO_MATH] = LAYOUT_6x7_alexd97(
  //┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐                         ┌────────┬────────┬────────┬────────┬────────┬────────┬────────┐
     _______ ,_______ , _______, _______,_______ ,_______ , _______,                          _______ ,_______ ,_______ , _______,_______ ,_______ ,_______ , 
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,UC(L'¬'),UC(L'∨'),UC(L'∧'),UC(L'⊥'),UC(L'∡'), _______,                          _______ ,UC(L'∥'),UC(L'→'),UC(L'∞'),UC(L'∝'),UC(L'∅'),XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,UC(L'Ξ'),UC(L'√'),UC(L'Λ'),UC(L'ℂ'),UC(L'Ω'),                          UC(L'×'),UC(L'Ψ'),UC(L'Γ'),UC(L'Φ'),UC(L'ℚ'),UC(L'∘'),XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______, _______ ,UC(L'⊂'),UC(L'∫'),UC(L'∀'),UC(L'∃'),UC(L'∈'),                          UC(L'Σ'),UC(L'ℕ'),UC(L'ℝ'),UC(L'∂'),UC(L'Δ'),UC(L'∇'),XXXXXXX ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,UC(L'∪'),UC(L'∩'),UC(L'ℵ'),UC(L'Π'),UC(L'ℤ'),                         UC(L'⇐'),UC(L'⇔'),UC(L'⇒'),UC(L'↦'),UC(L'Θ'),XXXXXXX,XXXXXXX,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                _______ , _______,_______ ,_______ , _______,         _______,_______ , _______,_______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤       ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
                                                  _______ ,_______ , _______,        _______ , _______,_______
  //└────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘       └────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┘
  )
};
